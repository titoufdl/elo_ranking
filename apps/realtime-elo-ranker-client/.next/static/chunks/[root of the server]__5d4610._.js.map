{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/iut45/Etudiants/o22203653/WinHome/NODEJS/elo_ranking/apps/realtime-elo-ranker-client/libs/ui/src/components/MatchForm/MatchForm.tsx"],"sourcesContent":["import React, { FC, useState } from \"react\";\n\nexport enum MatchResult {\n  LEFT_WIN = \"LEFT_WIN\",\n  RIGHT_WIN = \"RIGHT_WIN\",\n  DRAW = \"DRAW\",\n}\n\ninterface MatchFormProps {\n  callback: (\n    adversaryA: string,\n    adversaryB: string,\n    result: MatchResult\n  ) => Promise<Response>;\n}\n\nconst MatchForm: FC<MatchFormProps> = (props) => {\n  const { callback } = props;\n  const [adversaryA, setAdversaryA] = useState(\"\");\n  const [adversaryB, setAdversaryB] = useState(\"\");\n  const [result, setResult] = useState<MatchResult>(MatchResult.LEFT_WIN);\n\n  const resetForm = () => {\n    setAdversaryA(\"\");\n    setAdversaryB(\"\");\n    setResult(MatchResult.LEFT_WIN);\n  };\n\n  return (\n    <form\n      data-testid=\"MatchForm\"\n      className=\"flex flex-col justify-center mb-4 gap-4 p-2 border border-gray-300 rounded-md\"\n      onSubmit={(evt) => {\n        evt.preventDefault();\n        callback(adversaryA, adversaryB, result).then((res) => {\n          if (res.ok) {\n            resetForm();\n          } else {\n            // TODO: toast error\n            console.error(\"Error while posting match result\");\n          }\n        });\n      }}\n    >\n      <div className=\"flex justify-between\">\n        <div className=\"flex flex-col justify-between items-center mb-4 gap-4 p-2\">\n          <input\n            type=\"checkbox\"\n            className=\"transform scale-150\"\n            checked={result === MatchResult.LEFT_WIN}\n            onChange={() => setResult(MatchResult.LEFT_WIN)}\n          />\n          <span className=\"text-xl\">Adversaire A</span>\n          <input type=\"text\" className=\"border border-gray-300 rounded-md\" value={adversaryA} onChange={(evt) => setAdversaryA(evt.target.value)} />\n        </div>\n        <div className=\"flex flex-col justify-start align-item mb-4 gap-4 p-2 w-[100px]\">\n          <input\n            type=\"checkbox\"\n            className=\"transform scale-150\"\n            checked={result === MatchResult.DRAW}\n            onChange={() => setResult(MatchResult.DRAW)}\n          />\n        </div>\n        <div className=\"flex flex-col justify-between items-center mb-4 gap-4 p-2\">\n          <input\n            type=\"checkbox\"\n            className=\"transform scale-150\"\n            checked={result === MatchResult.RIGHT_WIN}\n            onChange={() => setResult(MatchResult.RIGHT_WIN)}\n          />\n          <span className=\"text-xl\">Adversaire B</span>\n          <input type=\"text\" className=\"border border-gray-300 rounded-md\" value={adversaryB} onChange={(evt) => setAdversaryB(evt.target.value)} />\n        </div>\n      </div>\n      <button\n        type=\"submit\"\n        className=\"bg-blue-600 hover:bg-blue-800 text-white px-4 py-2 rounded-md\"\n      >\n        Déclarer le match\n      </button>\n    </form>\n  );\n};\n\nexport default MatchForm;\n"],"names":[],"mappings":";;;;;AAAA;;;;AAEO,IAAA,AAAK,qCAAA;;;;WAAA;;AAcZ,MAAM,YAAgC,CAAC;;IACrC,MAAM,EAAE,QAAQ,EAAE,GAAG;IACrB,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,kQAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,kQAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,kQAAA,CAAA,WAAQ,AAAD;IAEnC,MAAM,YAAY;QAChB,cAAc;QACd,cAAc;QACd;IACF;IAEA,qBACE,kSAAC;QACC,eAAY;QACZ,WAAU;QACV,UAAU,CAAC;YACT,IAAI,cAAc;YAClB,SAAS,YAAY,YAAY,QAAQ,IAAI,CAAC,CAAC;gBAC7C,IAAI,IAAI,EAAE,EAAE;oBACV;gBACF,OAAO;oBACL,oBAAoB;oBACpB,QAAQ,KAAK,CAAC;gBAChB;YACF;QACF;;0BAEA,kSAAC;gBAAI,WAAU;;kCACb,kSAAC;wBAAI,WAAU;;0CACb,kSAAC;gCACC,MAAK;gCACL,WAAU;gCACV,SAAS;gCACT,UAAU,IAAM;;;;;;0CAElB,kSAAC;gCAAK,WAAU;0CAAU;;;;;;0CAC1B,kSAAC;gCAAM,MAAK;gCAAO,WAAU;gCAAoC,OAAO;gCAAY,UAAU,CAAC,MAAQ,cAAc,IAAI,MAAM,CAAC,KAAK;;;;;;;;;;;;kCAEvI,kSAAC;wBAAI,WAAU;kCACb,cAAA,kSAAC;4BACC,MAAK;4BACL,WAAU;4BACV,SAAS;4BACT,UAAU,IAAM;;;;;;;;;;;kCAGpB,kSAAC;wBAAI,WAAU;;0CACb,kSAAC;gCACC,MAAK;gCACL,WAAU;gCACV,SAAS;gCACT,UAAU,IAAM;;;;;;0CAElB,kSAAC;gCAAK,WAAU;0CAAU;;;;;;0CAC1B,kSAAC;gCAAM,MAAK;gCAAO,WAAU;gCAAoC,OAAO;gCAAY,UAAU,CAAC,MAAQ,cAAc,IAAI,MAAM,CAAC,KAAK;;;;;;;;;;;;;;;;;;0BAGzI,kSAAC;gBACC,MAAK;gBACL,WAAU;0BACX;;;;;;;;;;;;AAKP;GAlEM;KAAA;uCAoES"}},
    {"offset": {"line": 172, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 178, "column": 0}, "map": {"version":3,"sources":["file:///home/iut45/Etudiants/o22203653/WinHome/NODEJS/elo_ranking/apps/realtime-elo-ranker-client/libs/ui/src/components/PlayerForm/PlayerForm.tsx"],"sourcesContent":["import React, { FC, useState } from \"react\";\n\ninterface PlayerFormProps {\n  callback: (playerName: string) => Promise<Response>;\n}\n\nconst PlayerForm: FC<PlayerFormProps> = (props) => {\n  const { callback } = props;\n  const [playerName, setPlayerName] = useState(\"\");\n\n  const resetForm = () => {\n    setPlayerName(\"\");\n  };\n\n  return (\n    <form\n      data-testid=\"MatchForm\"\n      className=\"flex flex-col justify-center mb-4 gap-4 p-2 border border-gray-300 rounded-md\"\n      onSubmit={(evt) => {\n        evt.preventDefault();\n        callback(playerName).then(res => {\n          if (res.ok) {\n            resetForm();\n          } else {\n            console.log(\"Error while posting player\");\n          }\n        });\n      }}\n    >\n      <span className=\"text-xl\">Nom du joueur</span>\n      <input\n        type=\"text\"\n        className=\"border border-gray-300 rounded-md\"\n        value={playerName}\n        onChange={(evt) => setPlayerName(evt.target.value)}\n      />\n      <button\n        type=\"submit\"\n        className=\"bg-blue-600 hover:bg-blue-800 text-white px-4 py-2 rounded-md\"\n      >\n        Déclarer le joueur\n      </button>\n    </form>\n  );\n};\n\nexport default PlayerForm;\n"],"names":[],"mappings":";;;;AAAA;;;;AAMA,MAAM,aAAkC,CAAC;;IACvC,MAAM,EAAE,QAAQ,EAAE,GAAG;IACrB,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,kQAAA,CAAA,WAAQ,AAAD,EAAE;IAE7C,MAAM,YAAY;QAChB,cAAc;IAChB;IAEA,qBACE,kSAAC;QACC,eAAY;QACZ,WAAU;QACV,UAAU,CAAC;YACT,IAAI,cAAc;YAClB,SAAS,YAAY,IAAI,CAAC,CAAA;gBACxB,IAAI,IAAI,EAAE,EAAE;oBACV;gBACF,OAAO;oBACL,QAAQ,GAAG,CAAC;gBACd;YACF;QACF;;0BAEA,kSAAC;gBAAK,WAAU;0BAAU;;;;;;0BAC1B,kSAAC;gBACC,MAAK;gBACL,WAAU;gBACV,OAAO;gBACP,UAAU,CAAC,MAAQ,cAAc,IAAI,MAAM,CAAC,KAAK;;;;;;0BAEnD,kSAAC;gBACC,MAAK;gBACL,WAAU;0BACX;;;;;;;;;;;;AAKP;GAtCM;KAAA;uCAwCS"}},
    {"offset": {"line": 249, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 255, "column": 0}, "map": {"version":3,"sources":["file:///home/iut45/Etudiants/o22203653/WinHome/NODEJS/elo_ranking/apps/realtime-elo-ranker-client/libs/ui/src/components/RankingLadder/LadderItem/LadderItem.tsx"],"sourcesContent":["import React, { FC } from \"react\";\n\nexport type PlayerData = {\n  id: string;\n  rank: number;\n};\n\n/**\n * Propriétés du composant LadderItem\n */\ninterface LadderItemProps {\n  player: PlayerData;\n}\n\n/**\n * Composant fonctionnel pour afficher un joueur dans le classement\n *\n * @param {LadderItemProps} props Les propriétés du composant\n * @param {PlayerData} props.player Les données du joueur\n *\n * @returns {JSX.Element} Le composant pour afficher un joueur dans le classement\n */\nconst LadderItem: FC<LadderItemProps> = (props) => (\n  <div data-testid=\"LadderItem\" className=\"flex justify-between mb-4 gap-4 p-2 border border-gray-300 rounded-md\">\n    <span className=\"whitespace-nowrap overflow-hidden overflow-ellipsis\">{props.player.id}</span>\n    <span className=\"bg-pink-700 text-gray-200 px-4 rounded-full w-16\">{props.player.rank}</span>\n  </div>\n);\n\nexport default LadderItem;\n"],"names":[],"mappings":";;;;;AAcA;;;;;;;CAOC,GACD,MAAM,aAAkC,CAAC,sBACvC,kSAAC;QAAI,eAAY;QAAa,WAAU;;0BACtC,kSAAC;gBAAK,WAAU;0BAAuD,MAAM,MAAM,CAAC,EAAE;;;;;;0BACtF,kSAAC;gBAAK,WAAU;0BAAoD,MAAM,MAAM,CAAC,IAAI;;;;;;;;;;;;KAHnF;uCAOS"}},
    {"offset": {"line": 300, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 306, "column": 0}, "map": {"version":3,"sources":["file:///home/iut45/Etudiants/o22203653/WinHome/NODEJS/elo_ranking/apps/realtime-elo-ranker-client/libs/ui/src/components/RankingLadder/RankingLadder.tsx"],"sourcesContent":["import React, { FC } from \"react\";\nimport LadderItem, { PlayerData } from \"./LadderItem/LadderItem\";\nimport { AnimatePresence, motion } from \"motion/react\";\n\ninterface RankingLadderProps {\n  data: PlayerData[];\n}\n\n/**\n * Composant fonctionnel pour afficher le classement des joueurs\n *\n * @param {RankingLadderProps} props Les propriétés du composant\n * @param {PlayerData[]} props.data Les données des joueurs\n * @param {(data: PlayerData[]) => void} props.updateData La fonction pour mettre à jour les données des joueurs\n *\n * @returns {JSX.Element} Le composant pour afficher le classement des joueurs\n */\nconst RankingLadder: FC<RankingLadderProps> = (props) => {\n  const { data } = props;\n\n  // return(<></>)\n\n  return (\n    <div data-testid=\"RankingLadder\" className=\"h-full\">\n      <AnimatePresence>\n        <div className=\"pt-4 columns-8 gap-4 overflow-x-auto max-h-full themed-scrollbar\">\n          {data.map((player) => (\n            <motion.div\n              key={player.id}\n              initial={{ scale: 0 }}\n              animate={{\n                scale: 1,\n                transition: {\n                  delay: 0.3,\n                  type: \"spring\",\n                  stiffness: 260,\n                  damping: 40,\n                },\n              }}\n              layout\n            >\n              <LadderItem player={player} />\n            </motion.div>\n          ))}\n        </div>\n      </AnimatePresence>\n    </div>\n  );\n};\n\nexport default RankingLadder;\n"],"names":[],"mappings":";;;;AACA;AACA;AAAA;;;;AAMA;;;;;;;;CAQC,GACD,MAAM,gBAAwC,CAAC;IAC7C,MAAM,EAAE,IAAI,EAAE,GAAG;IAEjB,gBAAgB;IAEhB,qBACE,kSAAC;QAAI,eAAY;QAAgB,WAAU;kBACzC,cAAA,kSAAC,4TAAA,CAAA,kBAAe;sBACd,cAAA,kSAAC;gBAAI,WAAU;0BACZ,KAAK,GAAG,CAAC,CAAC,uBACT,kSAAC,6TAAA,CAAA,SAAM,CAAC,GAAG;wBAET,SAAS;4BAAE,OAAO;wBAAE;wBACpB,SAAS;4BACP,OAAO;4BACP,YAAY;gCACV,OAAO;gCACP,MAAM;gCACN,WAAW;gCACX,SAAS;4BACX;wBACF;wBACA,MAAM;kCAEN,cAAA,kSAAC,gLAAA,CAAA,UAAU;4BAAC,QAAQ;;;;;;uBAbf,OAAO,EAAE;;;;;;;;;;;;;;;;;;;;AAoB5B;KA/BM;uCAiCS"}},
    {"offset": {"line": 382, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 388, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 397, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 414, "column": 0}, "map": {"version":3,"sources":["turbopack://[next]/internal/font/google/poppins_b99cce48.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_export_value__({\n  \"className\": \"poppins_b99cce48-module__SXN6da__className\",\n  \"variable\": \"poppins_b99cce48-module__SXN6da__variable\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA","ignoreList":[0]}},
    {"offset": {"line": 418, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 424, "column": 0}, "map": {"version":3,"sources":["turbopack://[next]/internal/font/google/poppins_b99cce48.js"],"sourcesContent":["import cssModule from \"@vercel/turbopack-next/internal/font/google/cssmodule.module.css?{%22path%22:%22page.tsx%22,%22import%22:%22Poppins%22,%22arguments%22:[{%22weight%22:%22600%22,%22style%22:%22normal%22,%22variable%22:%22--poppins-bold%22}],%22variableName%22:%22poppinsBold%22}\";\nconst fontData = {\n    className: cssModule.className,\n    style: {\n        fontFamily: \"'Poppins', 'Poppins Fallback'\",\n        fontWeight: 600,\nfontStyle: \"normal\",\n\n    },\n};\n\nif (cssModule.variable != null) {\n    fontData.variable = cssModule.variable;\n}\n\nexport default fontData;\n"],"names":[],"mappings":";;;AAAA;;AACA,MAAM,WAAW;IACb,WAAW,0JAAA,CAAA,UAAS,CAAC,SAAS;IAC9B,OAAO;QACH,YAAY;QACZ,YAAY;QACpB,WAAW;IAEP;AACJ;AAEA,IAAI,0JAAA,CAAA,UAAS,CAAC,QAAQ,IAAI,MAAM;IAC5B,SAAS,QAAQ,GAAG,0JAAA,CAAA,UAAS,CAAC,QAAQ;AAC1C;uCAEe","ignoreList":[0]}},
    {"offset": {"line": 441, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 446, "column": 0}, "map": {"version":3,"sources":["turbopack://[next]/internal/font/google/poppins_fd5a21ec.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_export_value__({\n  \"className\": \"poppins_fd5a21ec-module__KkKRFG__className\",\n  \"variable\": \"poppins_fd5a21ec-module__KkKRFG__variable\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA","ignoreList":[0]}},
    {"offset": {"line": 450, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 456, "column": 0}, "map": {"version":3,"sources":["turbopack://[next]/internal/font/google/poppins_fd5a21ec.js"],"sourcesContent":["import cssModule from \"@vercel/turbopack-next/internal/font/google/cssmodule.module.css?{%22path%22:%22page.tsx%22,%22import%22:%22Poppins%22,%22arguments%22:[{%22weight%22:%22500%22,%22style%22:%22normal%22,%22variable%22:%22--poppins-semi-bold%22}],%22variableName%22:%22poppinsSemiBold%22}\";\nconst fontData = {\n    className: cssModule.className,\n    style: {\n        fontFamily: \"'Poppins', 'Poppins Fallback'\",\n        fontWeight: 500,\nfontStyle: \"normal\",\n\n    },\n};\n\nif (cssModule.variable != null) {\n    fontData.variable = cssModule.variable;\n}\n\nexport default fontData;\n"],"names":[],"mappings":";;;AAAA;;AACA,MAAM,WAAW;IACb,WAAW,0JAAA,CAAA,UAAS,CAAC,SAAS;IAC9B,OAAO;QACH,YAAY;QACZ,YAAY;QACpB,WAAW;IAEP;AACJ;AAEA,IAAI,0JAAA,CAAA,UAAS,CAAC,QAAQ,IAAI,MAAM;IAC5B,SAAS,QAAQ,GAAG,0JAAA,CAAA,UAAS,CAAC,QAAQ;AAC1C;uCAEe","ignoreList":[0]}},
    {"offset": {"line": 473, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 479, "column": 0}, "map": {"version":3,"sources":["file:///home/iut45/Etudiants/o22203653/WinHome/NODEJS/elo_ranking/apps/realtime-elo-ranker-client/apps/realtime-elo-ranker-client/src/services/ranking/fetch-ranking.ts"],"sourcesContent":["import { PlayerData } from \"@realtime-elo-ranker/libs/ui\";\n\nconst URL = \"/api/ranking\";\n\n/**\n * Fetch the ranking.\n * \n * Sends a GET request to the server to fetch the ranking.\n * \n * @returns {Promise<PlayerData[]>} A promise of future ranking data\n */\nexport default function fetchRanking(baseUrl: string): Promise<PlayerData[]> {\n  return fetch(baseUrl + URL, { method: \"GET\" })\n    .then(res => {\n      if (res.ok) {\n        return res.json();\n      }\n      throw new Error(\"Failed to fetch ranking\");\n    });\n}"],"names":[],"mappings":";;;AAEA,MAAM,MAAM;AASG,SAAS,aAAa,OAAe;IAClD,OAAO,MAAM,UAAU,KAAK;QAAE,QAAQ;IAAM,GACzC,IAAI,CAAC,CAAA;QACJ,IAAI,IAAI,EAAE,EAAE;YACV,OAAO,IAAI,IAAI;QACjB;QACA,MAAM,IAAI,MAAM;IAClB;AACJ"}},
    {"offset": {"line": 496, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 502, "column": 0}, "map": {"version":3,"sources":["file:///home/iut45/Etudiants/o22203653/WinHome/NODEJS/elo_ranking/apps/realtime-elo-ranker-client/apps/realtime-elo-ranker-client/src/services/ranking/subscribe-ranking-events.ts"],"sourcesContent":["const URL = \"/api/ranking/events\";\n\n/**\n * Subscribe to ranking events\n * \n * Sends a request to the server to subscribe to ranking events via SSE response\n * \n * @description This function is used to subscribe to ranking events. It expects for output messages to be of type RankingEvent.\n * \n * @returns {EventSource} The event source to listen to ranking events\n */\nexport default function subscribeRankingEvents(baseUrl: string): EventSource {\n  // Subscribe to ranking events\n  // ...\n  return new EventSource(baseUrl + URL);\n}"],"names":[],"mappings":";;;AAAA,MAAM,MAAM;AAWG,SAAS,uBAAuB,OAAe;IAC5D,8BAA8B;IAC9B,MAAM;IACN,OAAO,IAAI,YAAY,UAAU;AACnC"}},
    {"offset": {"line": 514, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 520, "column": 0}, "map": {"version":3,"sources":["file:///home/iut45/Etudiants/o22203653/WinHome/NODEJS/elo_ranking/apps/realtime-elo-ranker-client/apps/realtime-elo-ranker-client/src/services/ranking/models/ranking-event.ts"],"sourcesContent":["import { RankingUpdate } from \"./ranking-update\";\n\nexport enum RankingEventType {\n  RankingUpdate = \"RankingUpdate\"\n}\n\nexport type RankingEvent = RankingUpdate | { type: \"Error\" } & Error;"],"names":[],"mappings":";;;AAEO,IAAA,AAAK,0CAAA;;WAAA"}},
    {"offset": {"line": 530, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 536, "column": 0}, "map": {"version":3,"sources":["file:///home/iut45/Etudiants/o22203653/WinHome/NODEJS/elo_ranking/apps/realtime-elo-ranker-client/apps/realtime-elo-ranker-client/src/services/match/post-match-result.ts"],"sourcesContent":["import { MatchResult } from \"@realtime-elo-ranker/libs/ui\";\n\nconst URL = \"/api/match\";\n\n/**\n * Post the result of a match.\n * \n * @param {string} baseUrl The base URL of the API\n * @param {string} adversaryA The ID of the first adversary\n * @param {string} adversaryB The ID of the second adversary\n * @param {MatchResult} result The result of the match\n */\nexport default function postMatchResult(baseUrl: string, adversaryA: string, adversaryB: string, result: MatchResult): Promise<Response> {\n  return fetch(baseUrl + URL, {\n    method: \"POST\",\n    body: JSON.stringify({\n      winner: result === MatchResult.LEFT_WIN ? adversaryA : result === MatchResult.RIGHT_WIN ? adversaryB : null,\n      loser: result === MatchResult.LEFT_WIN ? adversaryB : result === MatchResult.RIGHT_WIN ? adversaryA : null,\n      draw: result === MatchResult.DRAW ? true : false,\n    }),\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  }\n  )\n}"],"names":[],"mappings":";;;AAAA;AAAA;;AAEA,MAAM,MAAM;AAUG,SAAS,gBAAgB,OAAe,EAAE,UAAkB,EAAE,UAAkB,EAAE,MAAmB;IAClH,OAAO,MAAM,UAAU,KAAK;QAC1B,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;YACnB,QAAQ,WAAW,6JAAA,CAAA,cAAW,CAAC,QAAQ,GAAG,aAAa,WAAW,6JAAA,CAAA,cAAW,CAAC,SAAS,GAAG,aAAa;YACvG,OAAO,WAAW,6JAAA,CAAA,cAAW,CAAC,QAAQ,GAAG,aAAa,WAAW,6JAAA,CAAA,cAAW,CAAC,SAAS,GAAG,aAAa;YACtG,MAAM,WAAW,6JAAA,CAAA,cAAW,CAAC,IAAI,GAAG,OAAO;QAC7C;QACA,SAAS;YACP,gBAAgB;QAClB;IACF;AAEF"}},
    {"offset": {"line": 559, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 565, "column": 0}, "map": {"version":3,"sources":["file:///home/iut45/Etudiants/o22203653/WinHome/NODEJS/elo_ranking/apps/realtime-elo-ranker-client/apps/realtime-elo-ranker-client/src/services/player/post-player.ts"],"sourcesContent":["const URL = \"/api/player\";\n\n/**\n * Post a player to create it.\n * \n * @param {string} baseUrl The base URL of the API\n * @param {string} id The ID of the new player\n */\nexport default function postPlayer(baseUrl: string, id: string): Promise<Response> {\n  return fetch(baseUrl + URL, {\n    method: \"POST\",\n    body: JSON.stringify({\n      id,\n    }),\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  });\n}"],"names":[],"mappings":";;;AAAA,MAAM,MAAM;AAQG,SAAS,WAAW,OAAe,EAAE,EAAU;IAC5D,OAAO,MAAM,UAAU,KAAK;QAC1B,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;YACnB;QACF;QACA,SAAS;YACP,gBAAgB;QAClB;IACF;AACF"}},
    {"offset": {"line": 583, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 619, "column": 0}, "map": {"version":3,"sources":["file:///home/iut45/Etudiants/o22203653/WinHome/NODEJS/elo_ranking/apps/realtime-elo-ranker-client/apps/realtime-elo-ranker-client/src/app/page.tsx"],"sourcesContent":["\"use client\";\nimport {\n  MatchForm,\n  MatchResult,\n  PlayerData,\n  PlayerForm,\n  RankingLadder,\n} from \"@realtime-elo-ranker/libs/ui\";\nimport { Poppins } from \"next/font/google\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport fetchRanking from \"../services/ranking/fetch-ranking\";\nimport subscribeRankingEvents from \"../services/ranking/subscribe-ranking-events\";\nimport {\n  RankingEvent,\n  RankingEventType,\n} from \"../services/ranking/models/ranking-event\";\nimport { motion } from \"motion/react\";\nimport postMatchResult from \"../services/match/post-match-result\";\nimport postPlayer from \"../services/player/post-player\";\n\nconst poppinsBold = Poppins({\n  weight: \"600\",\n  style: \"normal\",\n  variable: \"--poppins-bold\",\n});\n\nconst poppinsSemiBold = Poppins({\n  weight: \"500\",\n  style: \"normal\",\n  variable: \"--poppins-semi-bold\",\n});\n\n/**\n * Sorts the players by rank in descending order\n *\n * @param arr - The array of players to sort\n * @returns The sorted array of players\n */\nfunction quickSortPlayers(arr: PlayerData[]): PlayerData[] {\n  if (arr.length <= 1) {\n    // Already sorted\n    return arr;\n  }\n  const p = arr.pop();\n  const left = [];\n  const right = [];\n  for (const el of arr) {\n    if (el.rank >= p!.rank) {\n      left.push(el);\n    } else {\n      right.push(el);\n    }\n  }\n  return [...quickSortPlayers(left), p!, ...quickSortPlayers(right)];\n}\n\n/**\n * The home page\n * \n * @returns The home page component\n */\nexport default function Home() {\n  const API_BASE_URL = process.env.NEXT_PUBLIC_API_BASE_URL;\n\n  if (!API_BASE_URL) {\n    throw new Error(\"API_BASE_URL is not defined\");\n  }\n\n  const [ladderData, setLadderData] = useState<PlayerData[]>([]);\n\n  const updateLadderData = useCallback((player: PlayerData) => {\n    setLadderData((prevData) => {\n      return quickSortPlayers(\n        prevData.filter((p) => p.id !== player.id).concat(player)\n      );\n    });\n  }, []);\n\n  useEffect(() => {\n    try {\n      fetchRanking(API_BASE_URL).then(setLadderData);\n    } catch (error) {\n      // TODO: toast error\n      console.error(error);\n    }\n    const eventSource = subscribeRankingEvents(API_BASE_URL);\n    eventSource.onmessage = (msg: MessageEvent) => {\n      const event: RankingEvent = JSON.parse(msg.data);\n      if (event.type === \"Error\") {\n        console.error(event.message);\n        return;\n      }\n      if (event.type === RankingEventType.RankingUpdate) {\n        updateLadderData(event.player);\n      }\n    };\n    eventSource.onerror = (err) => {\n      // TODO: toast error\n      console.error(err);\n      eventSource.close();\n    };\n    return () => eventSource.close();\n  }, [API_BASE_URL, updateLadderData]);\n\n  return (\n    <div className=\"min-h-screen w-full\">\n      <motion.main\n        className=\"flex flex-col gap-8 items-center sm:items-start max-w-full px-12 pt-24\"\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n      >\n        <h1\n          className={`${poppinsBold.className} text-4xl font-bold text-center sm:text-left h-12`}\n        >\n          Realtime Elo Ranker\n        </h1>\n        <div className=\"w-full h-[610px] w-[95%]\">\n          <h2 className={`${poppinsSemiBold.className} text-2xl`}>\n            Classement des joueurs\n          </h2>\n          <RankingLadder data={ladderData} />\n        </div>\n        <div className=\"flex mt-10 gap-12\">\n          <div className=\"flex flex-col gap-4\">\n            <h2 className={`${poppinsSemiBold.className} text-2xl`}>\n              Déclarer un match\n            </h2>\n            <MatchForm\n              callback={(\n                adversaryA: string,\n                adversaryB: string,\n                result: MatchResult\n              ) =>\n                postMatchResult(API_BASE_URL, adversaryA, adversaryB, result)\n              }\n            />\n          </div>\n          <div className=\"flex flex-col gap-4\">\n            <h2 className={`${poppinsSemiBold.className} text-2xl`}>\n              Déclarer un joueur\n            </h2>\n            <PlayerForm\n              callback={(playerName: string) =>\n                postPlayer(API_BASE_URL, playerName)\n              }\n            />\n          </div>\n        </div>\n      </motion.main>\n      <footer className=\"row-start-3 flex gap-6 flex-wrap items-center justify-center\"></footer>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 858, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}